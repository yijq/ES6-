<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>变量的解构赋值</title>
</head>
<body>
	
</body>
<script>
	//ES6 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。

	//数组的解构赋值
	let [a1,b1=2,c1] = [1,2,3]
	//允许有默认值，当右边的值===undefined或者没有结构不同而没有对应值时才会执行默认的赋值语句

	//对象的解构赋值
	let {a2:name,b2:year,c2:gender} = {a2: "Kingkong",b2: 2017,c2: "male"};
	console.log(name+year+gender);
	//对象解构赋值的内部机制，是先找到同名属性，然后再赋给对应的变量，真正被赋值的是后者而不是前者。

	//字符串的解构赋值
	const [a,b,c,d,e] = "hello";
	let {length: length} =  "hello";
	//length == 5;
	//字符串会被转化为类似于数组的对象，因此可以对length赋值

	//数值和布尔值的解构赋值
	let {toString: s} = 456;
	let {toString: m} = false;
	s === Number.prototype.toString // true
	m === Boolean.prototype.toString //true
	// 进行解构赋值时，如果右边是数值或布尔值，那么会先被转化为对象。


	//函数参数的解构赋值
	function move({x = 0, y = 0} = {}) {
		return [x, y];
	}
	
	console.log(move({x: 3, y: 8})); // [3, 8]
	move({x: 3}); // [3, 0]
	move({}); // [0, 0]
	move(); // [0, 0]

	function move({x , y} = {x:0,y:0}) {
		return [x, y];
	}
	//圆括号问题
	//解构赋值虽然很方便，但是解析起来并不容易。对于编译器来说，一个式子到底是模式，还是表达式，没有办法从一开始就知道，必须解析到（或解析不到）等号才能知道。由此带来的问题是，如果模式中出现圆括号怎么处理。ES6 的规则是，只要有可能导致解构的歧义，就不得使用圆括号。但是，这条规则实际上不那么容易辨别，处理起来相当麻烦。因此，建议只要有可能，就不要在模式中放置圆括号。

	//用途
	//交换变量的值
	let x = 1;
	let y = 2;
	[x,y] = [y,x];

	//函数返回多个值
	//函数只能返回一个值，如果要返回多个值，只能将它们放在数组或对象里返回。有了解构赋值，取出这些值就非常方便。
	function example () {
		return [1,2,3];
	}

	let [a,b,c] = example();

	//函数参数的定义
	//解构赋值可以方便地将一组参数与变量名对应起来。
	// 参数是一组有次序的值
	function f([x, y, z]) { ... }
	f([1, 2, 3]);

	// 参数是一组无次序的值
	function f({x, y, z}) { ... }
	f({z: 3, y: 2, x: 1});

	//提取json数据
	let jsonData = {
	  id: 42,
	  status: "OK",
	  data: [867, 5309]
	};

	let { id, status, data: number } = jsonData;

	//函数参数的默认值
	jQuery.ajax = function (url, {
	  async = true,
	  beforeSend = function () {},
	  cache = true,
	  complete = function () {},
	  crossDomain = false,
	  global = true,
	  // ... more config
	}) {
	  // ... do stuff
	};

	//遍历Map结构

	//输入模块的指定方法
	


</script>
</html>